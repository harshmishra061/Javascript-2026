// myApply polyfill
// Invoked on a function.
// Takes two arguments:
// 1) context
// 2) array of arguments for the function

Function.prototype.myApply = function (context, args) {
  if (typeof this !== "function") {
    throw new TypeError("myApply must be called on a function");
  }

  context = context ?? globalThis;
  args = args ?? [];

  const key = Symbol("fn");
  context[key] = this;

  const result = context[key](...args);

  delete context[key];
  return result;
};
